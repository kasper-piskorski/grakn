define

number sub entity,
    plays pos11, plays pos12, plays pos13, plays pos14, plays pos15, plays pos16,
    plays pos21, plays pos22, plays pos23, plays pos24, plays pos25, plays pos26,
    plays pos31, plays pos32, plays pos33, plays pos34, plays pos35, plays pos36,
    plays pos41, plays pos42, plays pos43, plays pos44, plays pos45, plays pos46,
    plays pos51, plays pos52, plays pos53, plays pos54, plays pos55, plays pos56,
    plays pos61, plays pos62, plays pos63, plays pos64, plays pos65, plays pos66,
    has value;

value sub attribute, datatype long;

is-invalid sub attribute, datatype boolean;

solution sub relation,
    relates pos11, relates pos12, relates pos13, relates pos14, relates pos15, relates pos16,
    relates pos21, relates pos22, relates pos23, relates pos24, relates pos25, relates pos26,
    relates pos31, relates pos32, relates pos33, relates pos34, relates pos35, relates pos36,
    relates pos41, relates pos42, relates pos43, relates pos44, relates pos45, relates pos46,
    relates pos51, relates pos52, relates pos53, relates pos54, relates pos55, relates pos56,
    relates pos61, relates pos62, relates pos63, relates pos64, relates pos65, relates pos66;

unique-val-mapping sub relation, relates pos;
number sub entity, plays pos;
unique-val-mapping-rule sub rule,
when {
    $x isa number, has value $v1;
    $y isa number, has value $v2;
    $z isa number, has value $v3;
    $u isa number, has value $v4;
    $v isa number, has value $v5;
    $q isa number, has value $v6;
    $v1 != $v2; $v1 != $v3; $v1 != $v4; $v1 != $v5; $v1 != $v6;
    $v2 != $v3; $v2 != $v4; $v2 != $v5; $v2 != $v6;
    $v3 != $v4; $v3 != $v5; $v3 != $v6;
    $v4 != $v5; $v4 != $v6;
    $v5 != $v6;
}, then {
    (pos: $x, pos: $y, pos: $z, pos: $u, pos: $v, pos: $q) isa unique-val-mapping;
};

solution-rule sub rule,
when {
    ($x1, $y1, $z1, $u1, $v1, $q1) isa unique-val-mapping;
    ($x2, $y2, $z2, $u2, $v2, $q2) isa unique-val-mapping;
    ($x1, $y1, $z1,
     $x2, $y2, $z2) isa unique-val-mapping;
    ($u1, $v1, $q1,
     $u2, $v2, $q2) isa unique-val-mapping;

    ($x3, $y3, $z3, $u3, $v3, $q3) isa unique-val-mapping;
    ($x4, $y4, $z4, $u4, $v4, $q4) isa unique-val-mapping;
    ($x3, $y3, $z3,
    $x4, $y4, $z4) isa unique-val-mapping;
    ($u3, $v3, $q3,
    $u4, $v4, $q4) isa unique-val-mapping;

    ($x5, $y5, $z5, $u5, $v5, $q5) isa unique-val-mapping;
    ($x6, $y6, $z6, $u6, $v6, $q6) isa unique-val-mapping;
    ($x5, $y5, $z5,
    $x6, $y6, $z6) isa unique-val-mapping;
    ($u5, $v5, $q5,
    $u6, $v6, $q6) isa unique-val-mapping;

    ($x1, $x2, $x3, $x4, $x5, $x6) isa unique-val-mapping;
    ($y1, $y2, $y3, $y4, $y5, $y6) isa unique-val-mapping;
    ($z1, $z2, $z3, $z4, $z5, $z6) isa unique-val-mapping;
    ($u1, $u2, $u3, $u4, $u5, $u6) isa unique-val-mapping;
    ($v1, $v2, $v3, $v4, $v5, $v6) isa unique-val-mapping;
    ($q1, $q2, $q3, $q4, $q5, $q6) isa unique-val-mapping;
}, then {
    (
    pos11: $x1, pos12: $y1, pos13: $z1, pos14: $u1, pos15: $v1, pos16: $q1,
    pos21: $x2, pos22: $y2, pos23: $z2, pos24: $u2, pos25: $v2, pos26: $q2,
    pos31: $x3, pos32: $y3, pos33: $z3, pos34: $u3, pos35: $v3, pos36: $q3,
    pos41: $x4, pos42: $y4, pos43: $z4, pos44: $u4, pos45: $v4, pos46: $q4,
    pos51: $x5, pos52: $y5, pos53: $z5, pos54: $u5, pos55: $v5, pos56: $q5,
    pos61: $x6, pos62: $y6, pos63: $z6, pos64: $u6, pos65: $v6, pos66: $q6
    ) isa solution;
};


insert
$x1 isa number, has value 1;
$y1 isa number, has value 2;
$z1 isa number, has value 3;
$u1 isa number, has value 4;
$v1 isa number, has value 5;
$q1 isa number, has value 6;
